"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3125],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return k}});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=a.createContext({}),p=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=p(e.components);return a.createElement(d.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,d=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=p(n),k=i,c=u["".concat(d,".").concat(k)]||u[k]||m[k]||r;return n?a.createElement(c,o(o({ref:t},s),{},{components:n})):a.createElement(c,o({ref:t},s))}));function k(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=u;var l={};for(var d in t)hasOwnProperty.call(t,d)&&(l[d]=t[d]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var p=2;p<r;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},38992:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return d},default:function(){return k},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return m}});var a=n(83117),i=n(80102),r=(n(67294),n(3905)),o=["components"],l={title:"Configuration"},d=void 0,p={unversionedId:"configuration",id:"version-5.1/configuration",title:"Configuration",description:"Entity Discovery",source:"@site/versioned_docs/version-5.1/configuration.md",sourceDirName:".",slug:"/configuration",permalink:"/docs/5.1/configuration",draft:!1,editUrl:"https://github.com/mikro-orm/mikro-orm/edit/master/docs/versioned_docs/version-5.1/configuration.md",tags:[],version:"5.1",lastUpdatedBy:"Martin Ad\xe1mek",lastUpdatedAt:1658864842,formattedLastUpdatedAt:"Jul 26, 2022",frontMatter:{title:"Configuration"},sidebar:"docs",previous:{title:"Decorators",permalink:"/docs/5.1/decorators"},next:{title:"Usage with SQL Drivers",permalink:"/docs/5.1/usage-with-sql"}},s={},m=[{value:"Entity Discovery",id:"entity-discovery",level:2},{value:"Driver",id:"driver",level:2},{value:"Connection",id:"connection",level:2},{value:"Read Replicas",id:"read-replicas",level:3},{value:"Using short-lived tokens",id:"using-short-lived-tokens",level:3},{value:"Naming Strategy",id:"naming-strategy",level:2},{value:"Auto-join of 1:1 owners",id:"auto-join-of-11-owners",level:2},{value:"Propagation of 1:1 and m:1 owners",id:"propagation-of-11-and-m1-owners",level:2},{value:"Forcing UTC Timezone",id:"forcing-utc-timezone",level:2},{value:"Mapping <code>null</code> values to <code>undefined</code>",id:"mapping-null-values-to-undefined",level:2},{value:"Serialization of new entities",id:"serialization-of-new-entities",level:2},{value:"Population where condition",id:"population-where-condition",level:2},{value:"Custom Hydrator",id:"custom-hydrator",level:2},{value:"Custom Repository",id:"custom-repository",level:2},{value:"Strict Mode and property validation",id:"strict-mode-and-property-validation",level:2},{value:"Required properties validation",id:"required-properties-validation",level:2},{value:"Debugging &amp; Logging",id:"debugging--logging",level:2},{value:"Custom Fail Handler",id:"custom-fail-handler",level:2},{value:"Schema Generator",id:"schema-generator",level:2},{value:"Migrations",id:"migrations",level:2},{value:"Seeder",id:"seeder",level:2},{value:"Caching",id:"caching",level:2},{value:"Importing database dump files (MySQL and PostgreSQL)",id:"importing-database-dump-files-mysql-and-postgresql",level:2},{value:"Using native private properties",id:"using-native-private-properties",level:2},{value:"Persist created entities automatically",id:"persist-created-entities-automatically",level:2},{value:"Using global Identity Map",id:"using-global-identity-map",level:2},{value:"Using environment variables",id:"using-environment-variables",level:2}],u={toc:m};function k(e){var t=e.components,n=(0,i.Z)(e,o);return(0,r.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"entity-discovery"},"Entity Discovery"),(0,r.kt)("p",null,"You can either provide array of entity instances via ",(0,r.kt)("inlineCode",{parentName:"p"},"entities"),", or let the ORM look up your\nentities in selected folders. "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  entities: [Author, Book, Publisher, BookTag],\n});\n")),(0,r.kt)("p",null,"We can also use folder based discovery by providing list of paths to the entities\nwe want to discover (globs are supported as well). This way we also need to specify\n",(0,r.kt)("inlineCode",{parentName:"p"},"entitiesTs"),", where we point the paths to the TS source files instead of the JS\ncompiled files (see more at ",(0,r.kt)("a",{parentName:"p",href:"/docs/5.1/metadata-providers"},"Metadata Providers"),")."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"entitiesTs")," option is used when running the app via ",(0,r.kt)("inlineCode",{parentName:"p"},"ts-node"),", as the ORM\nneeds to discover the TS files. Always specify this option if you use folder/file\nbased discovery. ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  entities: ['./dist/modules/users/entities', './dist/modules/projects/entities'],\n  entitiesTs: ['./src/modules/users/entities', './src/modules/projects/entities'],\n  // optionally you can override the base directory (defaults to `process.cwd()`)\n  baseDir: process.cwd(),\n});\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Be careful when overriding the ",(0,r.kt)("inlineCode",{parentName:"p"},"baseDir")," with dynamic values like ",(0,r.kt)("inlineCode",{parentName:"p"},"__dirname"),",\nas you can end up with valid paths from ",(0,r.kt)("inlineCode",{parentName:"p"},"ts-node"),", but invalid paths from ",(0,r.kt)("inlineCode",{parentName:"p"},"node"),".\nIdeally you should keep the default of ",(0,r.kt)("inlineCode",{parentName:"p"},"process.cwd()")," there to always have the\nsame base path regardless of how you run the app.")),(0,r.kt)("p",null,"By default, ",(0,r.kt)("inlineCode",{parentName:"p"},"ReflectMetadataProvider")," is used that leverages the ",(0,r.kt)("inlineCode",{parentName:"p"},"reflect-metadata"),".\nYou can also use ",(0,r.kt)("inlineCode",{parentName:"p"},"TsMorphMetadataProvider")," by installing ",(0,r.kt)("inlineCode",{parentName:"p"},"@mikro-orm/reflection"),".\nThis provider will analyse your entity source files (or ",(0,r.kt)("inlineCode",{parentName:"p"},".d.ts")," type definition files).\nIf you aim to use plain JavaScript instead of TypeScript, use ",(0,r.kt)("inlineCode",{parentName:"p"},"EntitySchema")," or\nthe ",(0,r.kt)("inlineCode",{parentName:"p"},"JavaScriptMetadataProvider"),"."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"You can also implement your own metadata provider and use it instead. To do so, extend the\n",(0,r.kt)("inlineCode",{parentName:"p"},"MetadataProvider")," class.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"import { MikroORM } from '@mikro-orm/core';\nimport { TsMorphMetadataProvider } from '@mikro-orm/reflection';\n\nMikroORM.init({\n  metadataProvider: TsMorphMetadataProvider,\n});\n")),(0,r.kt)("p",null,"There are also some additional options how you can adjust the discovery process:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  discovery: {\n    warnWhenNoEntities: false, // by default, discovery throws when no entity is processed\n    requireEntitiesArray: true, // force usage of class references in `entities` instead of paths\n    alwaysAnalyseProperties: false, // do not analyse properties when not needed (with ts-morph)\n  },\n});\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"If you disable ",(0,r.kt)("inlineCode",{parentName:"p"},"discovery.alwaysAnalyseProperties")," option, you will need to explicitly\nprovide ",(0,r.kt)("inlineCode",{parentName:"p"},"nullable")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"wrappedReference")," parameters (where applicable).")),(0,r.kt)("p",null,"Read more about this in ",(0,r.kt)("a",{parentName:"p",href:"/docs/5.1/metadata-providers"},"Metadata Providers")," sections."),(0,r.kt)("h2",{id:"driver"},"Driver"),(0,r.kt)("p",null,"To select driver, you can either use ",(0,r.kt)("inlineCode",{parentName:"p"},"type")," option, or provide the driver class reference."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"driver name"),(0,r.kt)("th",{parentName:"tr",align:null},"dependency"),(0,r.kt)("th",{parentName:"tr",align:null},"note"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"mongo")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MongoDriver")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"mongodb^3.3.4")),(0,r.kt)("td",{parentName:"tr",align:null},"-")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"mysql")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MySqlDriver")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"mysql2^2.0.0")),(0,r.kt)("td",{parentName:"tr",align:null},"compatible with MariaDB")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"mariadb")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MariaDbDriver")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"mariadb^2.0.0")),(0,r.kt)("td",{parentName:"tr",align:null},"compatible with MySQL")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"postgresql")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"PostgreSqlDriver")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"pg^7.0.0")),(0,r.kt)("td",{parentName:"tr",align:null},"-")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sqlite")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"SqliteDriver")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sqlite3^4.0.0")),(0,r.kt)("td",{parentName:"tr",align:null},"-")))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Driver and connection implementations are not directly exported from ",(0,r.kt)("inlineCode",{parentName:"p"},"@mikro-orm/core")," module.\nYou can import them from the driver packages (e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},"import { PostgreSqlDriver } from '@mikro-orm/postgresql'"),").")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"You can pass additional options to the underlying driver (e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},"mysql2"),") via ",(0,r.kt)("inlineCode",{parentName:"p"},"driverOptions"),".\nThe object will be deeply merged, overriding all internally used options.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"import { MySqlDriver } from '@mikro-orm/mysql';\n\nMikroORM.init({\n  driver: MySqlDriver,\n  driverOptions: { connection: { timezone: '+02:00' } },\n});\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"From v3.5.1 you can also set the timezone directly in the ORM configuration:"),(0,r.kt)("pre",{parentName:"blockquote"},(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  type: 'mysql',\n  timezone: '+02:00',\n});\n"))),(0,r.kt)("h2",{id:"connection"},"Connection"),(0,r.kt)("p",null,"Each platform (driver) provides default connection string, you can override it as a whole\nthrough ",(0,r.kt)("inlineCode",{parentName:"p"},"clientUrl"),", or partially through one of following options:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"export interface DynamicPassword {\n  password: string;\n  expirationChecker?: () => boolean;\n}\n\nexport interface ConnectionOptions {\n  dbName?: string;\n  name?: string; // for logging only (when replicas are used)\n  clientUrl?: string;\n  host?: string;\n  port?: number;\n  user?: string;\n  password?: string | (() => string | Promise<string> | DynamicPassword | Promise<DynamicPassword>);\n  charset?: string;\n  multipleStatements?: boolean; // for mysql driver\n  pool?: PoolConfig; // provided by `knex`\n}\n")),(0,r.kt)("p",null,"Following table shows default client connection strings:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"default connection url"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"mongo")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"mongodb://127.0.0.1:27017"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"mysql")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"mysql://root@127.0.0.1:3306"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"mariadb")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"mysql://root@127.0.0.1:3306"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"postgresql")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"postgresql://postgres@127.0.0.1:5432"))))),(0,r.kt)("h3",{id:"read-replicas"},"Read Replicas"),(0,r.kt)("p",null,"To set up read replicas, you can use ",(0,r.kt)("inlineCode",{parentName:"p"},"replicas")," option. You can provide only those parts of the\n",(0,r.kt)("inlineCode",{parentName:"p"},"ConnectionOptions")," interface, they will be used to override the ",(0,r.kt)("inlineCode",{parentName:"p"},"master")," connection options."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  type: 'mysql',\n  dbName: 'my_db_name',\n  user: 'write-user',\n  host: 'master.db.example.com',\n  port: 3306,\n  replicas: [\n    { user: 'read-user-1', host: 'read-1.db.example.com', port: 3307 },\n    { user: 'read-user-2', host: 'read-2.db.example.com', port: 3308 },\n    { user: 'read-user-3', host: 'read-3.db.example.com', port: 3309 },\n  ],\n});\n")),(0,r.kt)("p",null,"Read more about this in ",(0,r.kt)("a",{parentName:"p",href:"/docs/5.1/installation"},"Installation")," and ",(0,r.kt)("a",{parentName:"p",href:"/docs/5.1/read-connections"},"Read Connections")," sections."),(0,r.kt)("h3",{id:"using-short-lived-tokens"},"Using short-lived tokens"),(0,r.kt)("p",null,"Many cloud providers include alternative methods for connecting to database instances\nusing short-lived authentication tokens. MikroORM supports dynamic passwords via\na callback function, either synchronous or asynchronous. The callback function must\nresolve to a string."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  type: 'mysql',\n  dbName: 'my_db_name',\n  password: async () => someCallToGetTheToken(),\n});\n")),(0,r.kt)("p",null,"The password callback value will be cached, to invalidate this cache we can specify\n",(0,r.kt)("inlineCode",{parentName:"p"},"expirationChecker")," callback:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  type: 'mysql',\n  dbName: 'my_db_name',\n  password: async () => {\n    const { token, tokenExpiration } = await someCallToGetTheToken();\n    return { password: token, expirationChecker: () => tokenExpiration <= Date.now() }\n  },\n});\n")),(0,r.kt)("h2",{id:"naming-strategy"},"Naming Strategy"),(0,r.kt)("p",null,"When mapping your entities to database tables and columns, their names will be defined by naming\nstrategy. There are 3 basic naming strategies you can choose from:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"UnderscoreNamingStrategy")," - default of all SQL drivers"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MongoNamingStrategy")," - default of ",(0,r.kt)("inlineCode",{parentName:"li"},"MongoDriver")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"EntityCaseNamingStrategy")," - uses unchanged entity and property names")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"You can also define your own custom ",(0,r.kt)("inlineCode",{parentName:"p"},"NamingStrategy")," implementation.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  namingStrategy: EntityCaseNamingStrategy,\n});\n")),(0,r.kt)("p",null,"Read more about this in ",(0,r.kt)("a",{parentName:"p",href:"/docs/5.1/naming-strategy"},"Naming Strategy")," section."),(0,r.kt)("h2",{id:"auto-join-of-11-owners"},"Auto-join of 1:1 owners"),(0,r.kt)("p",null,"By default, owning side of 1:1 relation will be auto-joined when you select the inverse side\nso we can have the reference to it. You can disable this behaviour via ",(0,r.kt)("inlineCode",{parentName:"p"},"autoJoinOneToOneOwner"),"\nconfiguration toggle."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  autoJoinOneToOneOwner: false,\n});\n")),(0,r.kt)("h2",{id:"propagation-of-11-and-m1-owners"},"Propagation of 1:1 and m:1 owners"),(0,r.kt)("p",null,"MikroORM defines getter and setter for every owning side of m:1 and 1:1 relation. This is\nthen used for propagation of changes to the inverse side of bi-directional relations."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"const author = new Author('n', 'e');\nconst book = new Book('t');\nbook.author = author;\nconsole.log(author.books.contains(book)); // true\n")),(0,r.kt)("p",null,"You can disable this behaviour via ",(0,r.kt)("inlineCode",{parentName:"p"},"propagateToOneOwner")," option."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  propagateToOneOwner: false,\n});\n")),(0,r.kt)("h2",{id:"forcing-utc-timezone"},"Forcing UTC Timezone"),(0,r.kt)("p",null,"Use ",(0,r.kt)("inlineCode",{parentName:"p"},"forceUtcTimezone")," option to force the ",(0,r.kt)("inlineCode",{parentName:"p"},"Date"),"s to be saved in UTC in datetime columns\nwithout timezone. It works for MySQL (",(0,r.kt)("inlineCode",{parentName:"p"},"datetime")," type) and PostgreSQL (",(0,r.kt)("inlineCode",{parentName:"p"},"timestamp")," type).\nSQLite does this by default. "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  forceUtcTimezone: true,\n});\n")),(0,r.kt)("h2",{id:"mapping-null-values-to-undefined"},"Mapping ",(0,r.kt)("inlineCode",{parentName:"h2"},"null")," values to ",(0,r.kt)("inlineCode",{parentName:"h2"},"undefined")),(0,r.kt)("p",null,"By default ",(0,r.kt)("inlineCode",{parentName:"p"},"null")," values from nullable database columns are hydrated as ",(0,r.kt)("inlineCode",{parentName:"p"},"null"),".\nUsing ",(0,r.kt)("inlineCode",{parentName:"p"},"forceUndefined")," we can tell the ORM to convert those ",(0,r.kt)("inlineCode",{parentName:"p"},"null")," values to\n",(0,r.kt)("inlineCode",{parentName:"p"},"undefined")," instead. "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  forceUndefined: true,\n});\n")),(0,r.kt)("h2",{id:"serialization-of-new-entities"},"Serialization of new entities"),(0,r.kt)("p",null,"After flushing a new entity, all relations are marked as populated,\njust like if the entity was loaded from the db. This aligns the serialized\noutput of ",(0,r.kt)("inlineCode",{parentName:"p"},"e.toJSON()")," of a loaded entity and just-inserted one."),(0,r.kt)("p",null,"In v4 this behaviour was disabled by default, so even after the new entity was\nflushed, the serialized form contained only FKs for its relations. We can opt in\nto this old behaviour via ",(0,r.kt)("inlineCode",{parentName:"p"},"populateAfterFlush: false"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  populateAfterFlush: false,\n});\n")),(0,r.kt)("h2",{id:"population-where-condition"},"Population where condition"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"This applies only to SELECT_IN strategy, as JOINED strategy implies the inference.")),(0,r.kt)("p",null,"In v4, when we used populate hints in ",(0,r.kt)("inlineCode",{parentName:"p"},"em.find()")," and similar methods, the\nquery for our entity would be analysed and parts of it extracted and used for\nthe population. Following example would find all authors that have books with\ngiven IDs, and populate their books collection, again using this PK condition,\nresulting in only such books being in those collections."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"// this would end up with `Author.books` collections having only books of PK 1, 2, 3\nconst a = await em.find(Author, { books: [1, 2, 3] }, { populate: ['books'] });\n")),(0,r.kt)("p",null,"Following this example, if we wanted to load all books, we would need a separate\n",(0,r.kt)("inlineCode",{parentName:"p"},"em.populate()")," call:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"const a = await em.find(Author, { books: [1, 2, 3] });\nawait em.populate(a, ['books']);\n")),(0,r.kt)("p",null,"This behaviour changed and is now configurable both globally and locally, via\n",(0,r.kt)("inlineCode",{parentName:"p"},"populateWhere")," option. Globally we can specify one of ",(0,r.kt)("inlineCode",{parentName:"p"},"PopulateHint.ALL")," and\n",(0,r.kt)("inlineCode",{parentName:"p"},"PopulateHint.INFER"),", the former being the default in v5, the latter being the\ndefault behaviour in v4. Locally (via ",(0,r.kt)("inlineCode",{parentName:"p"},"FindOptions"),") we can also specify custom\nwhere condition that will be passed to ",(0,r.kt)("inlineCode",{parentName:"p"},"em.populate()")," call."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  // defaults to PopulateHint.ALL in v5\n  populateWhere: PopulateHint.INFER, // revert to v4 behaviour\n});\n")),(0,r.kt)("h2",{id:"custom-hydrator"},"Custom Hydrator"),(0,r.kt)("p",null,"Hydrator is responsible for assigning values from the database to entities.\nYou can implement your custom ",(0,r.kt)("inlineCode",{parentName:"p"},"Hydrator")," (by extending the abstract ",(0,r.kt)("inlineCode",{parentName:"p"},"Hydrator")," class):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  hydrator: MyCustomHydrator,\n});\n")),(0,r.kt)("h2",{id:"custom-repository"},"Custom Repository"),(0,r.kt)("p",null,"You can also register custom base repository (for all entities where you do not specify\n",(0,r.kt)("inlineCode",{parentName:"p"},"customRepository"),") globally:"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"You can still use entity specific repositories in combination with global base repository.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  entityRepository: CustomBaseRepository,\n});\n")),(0,r.kt)("p",null,"Read more about this in ",(0,r.kt)("a",{parentName:"p",href:"/docs/5.1/repositories"},"Repositories")," section."),(0,r.kt)("h2",{id:"strict-mode-and-property-validation"},"Strict Mode and property validation"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Since v4.0.3 the validation needs to be explicitly enabled via ",(0,r.kt)("inlineCode",{parentName:"p"},"validate: true"),".\nIt has performance implications and usually should not be needed, as long as\nyou don't modify your entities via ",(0,r.kt)("inlineCode",{parentName:"p"},"Object.assign()"),".")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"MirkoORM")," will validate your properties before actual persisting happens. It will try to fix wrong\ndata types for you automatically. If automatic conversion fails, it will throw an error. You can\nenable strict mode to disable this feature and let ORM throw errors instead. Validation is triggered\nwhen persisting the entity. "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  validate: true,\n  strict: true,\n});\n")),(0,r.kt)("p",null,"Read more about this in ",(0,r.kt)("a",{parentName:"p",href:"/docs/5.1/property-validation"},"Property Validation")," section."),(0,r.kt)("h2",{id:"required-properties-validation"},"Required properties validation"),(0,r.kt)("p",null,"Since v5, new entities are validated on runtime (just before executing insert\nqueries), based on the entity metadata. This means that mongo users now need\nto use ",(0,r.kt)("inlineCode",{parentName:"p"},"nullable: true")," on their optional properties too)."),(0,r.kt)("p",null,"This behaviour can be disabled globally via ",(0,r.kt)("inlineCode",{parentName:"p"},"validateRequired: false")," in the\nORM config."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  validateRequired: false,\n});\n")),(0,r.kt)("h2",{id:"debugging--logging"},"Debugging & Logging"),(0,r.kt)("p",null,"You can enable logging with ",(0,r.kt)("inlineCode",{parentName:"p"},"debug")," option. Either set it to ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," to log everything, or\nprovide array of ",(0,r.kt)("inlineCode",{parentName:"p"},"'query' | 'query-params' | 'discovery' | 'info'")," namespaces."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  logger: (message: string) => myLogger.info(message), // defaults to `console.log()`\n  debug: true, // or provide array like `['query', 'query-params']`\n  highlight: false, // defaults to true\n  highlightTheme: { ... }, // you can also provide custom highlight there\n});\n")),(0,r.kt)("p",null,"Read more about this in ",(0,r.kt)("a",{parentName:"p",href:"/docs/5.1/logging"},"Debugging")," section."),(0,r.kt)("h2",{id:"custom-fail-handler"},"Custom Fail Handler"),(0,r.kt)("p",null,"When no entity is found during ",(0,r.kt)("inlineCode",{parentName:"p"},"em.findOneOrFail()")," call, ",(0,r.kt)("inlineCode",{parentName:"p"},"new Error()")," will be thrown.\nYou can customize how the ",(0,r.kt)("inlineCode",{parentName:"p"},"Error")," instance is created via ",(0,r.kt)("inlineCode",{parentName:"p"},"findOneOrFailHandler"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  findOneOrFailHandler: (entityName: string, where: Dictionary | IPrimaryKey) => {\n    return new NotFoundException(`${entityName} not found!`);\n  },\n});\n")),(0,r.kt)("p",null,"Read more about this in ",(0,r.kt)("a",{parentName:"p",href:"/docs/5.1/entity-manager#handling-not-found-entities"},"Entity Manager")," docs."),(0,r.kt)("h2",{id:"schema-generator"},"Schema Generator"),(0,r.kt)("p",null,"Following example shows all possible options and their defaults:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  schemaGenerator: {\n    disableForeignKeys: true, // try to disable foreign_key_checks (or equivalent)\n    createForeignKeyConstraints: true, // do not generate FK constraints\n  },\n});\n")),(0,r.kt)("h2",{id:"migrations"},"Migrations"),(0,r.kt)("p",null,"Under the ",(0,r.kt)("inlineCode",{parentName:"p"},"migrations")," namespace, you can adjust how the integrated migrations support works.\nFollowing example shows all possible options and their defaults:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  migrations: {\n    tableName: 'mikro_orm_migrations', // migrations table name\n    path: process.cwd() + '/migrations', // path to folder with migration files\n    glob: '!(*.d).{js,ts}', // how to match migration files (all .js and .ts files, but not .d.ts)\n    transactional: true, // run each migration inside transaction\n    disableForeignKeys: true, // try to disable foreign_key_checks (or equivalent)\n    allOrNothing: true, // run all migrations in current batch in master transaction\n    emit: 'ts', // migration generation mode\n  },\n});\n")),(0,r.kt)("p",null,"Read more about this in ",(0,r.kt)("a",{parentName:"p",href:"/docs/5.1/migrations"},"Migrations")," section."),(0,r.kt)("h2",{id:"seeder"},"Seeder"),(0,r.kt)("p",null,"Following example shows all possible options and their defaults:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  seeder: {\n    path: './seeders',\n    defaultSeeder: 'DatabaseSeeder',\n  },\n});\n")),(0,r.kt)("p",null,"Read more about this in ",(0,r.kt)("a",{parentName:"p",href:"/docs/5.1/seeding"},"seeding docs"),"."),(0,r.kt)("h2",{id:"caching"},"Caching"),(0,r.kt)("p",null,"By default, metadata discovery results are cached. You can either disable caching, or adjust\nhow it works. Following example shows all possible options and their defaults:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  cache: {\n    enabled: true,\n    pretty: false, // allows to pretty print the JSON cache\n    adapter: FileCacheAdapter, // you can provide your own implementation here, e.g. with redis\n    options: { cacheDir: process.cwd() + '/temp' }, // options will be passed to the constructor of `adapter` class\n  },\n});\n")),(0,r.kt)("p",null,"Read more about this in ",(0,r.kt)("a",{parentName:"p",href:"/docs/5.1/metadata-cache"},"Metadata Cache")," section."),(0,r.kt)("h2",{id:"importing-database-dump-files-mysql-and-postgresql"},"Importing database dump files (MySQL and PostgreSQL)"),(0,r.kt)("p",null,"Using the ",(0,r.kt)("inlineCode",{parentName:"p"},"mikro-orm database:import db-file.sql")," you can import a database dump file. This can be useful when kickstarting an application or could be used in tests to reset the database. Database dumps often have queries spread over multiple lines and therefore you need the following configuration."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  ...\n  multipleStatements: true,\n  ...\n});\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"This should be disabled in production environments for added security.")),(0,r.kt)("h2",{id:"using-native-private-properties"},"Using native private properties"),(0,r.kt)("p",null,"If we want to use native private properties inside entities, the default approach of\nhow MikroORM creates entity instances via ",(0,r.kt)("inlineCode",{parentName:"p"},"Object.create()")," is not viable (more about this\nin the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/mikro-orm/mikro-orm/issues/1226"},"issue"),"). To force usage of entity\nconstructors, we can use ",(0,r.kt)("inlineCode",{parentName:"p"},"forceEntityConstructor")," toggle:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  forceEntityConstructor: true, // or specify just some entities via `[Author, 'Book', ...]` \n});\n")),(0,r.kt)("h2",{id:"persist-created-entities-automatically"},"Persist created entities automatically"),(0,r.kt)("p",null,"If we create new entity via ",(0,r.kt)("inlineCode",{parentName:"p"},"em.create()"),", we still need to mark it via\n",(0,r.kt)("inlineCode",{parentName:"p"},"em.persist()")," to make the ",(0,r.kt)("inlineCode",{parentName:"p"},"EntityManager")," aware of it. Alternatively we\ncan enable ",(0,r.kt)("inlineCode",{parentName:"p"},"persistOnCreate")," flag, which will make this work automatically."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"This flag affects only ",(0,r.kt)("inlineCode",{parentName:"p"},"em.create()"),", entities created via constructors\nstill need explicit ",(0,r.kt)("inlineCode",{parentName:"p"},"em.persist()")," call or they need to be part of entity\ngraph of some already managed entity.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  persistOnCreate: true,\n});\n")),(0,r.kt)("h2",{id:"using-global-identity-map"},"Using global Identity Map"),(0,r.kt)("p",null,"In v5, it is no longer possible to use the global identity map. This was a\ncommon issue that led to weird bugs, as using the global EM without request\ncontext is almost always wrong, we always need to have a dedicated context for\neach request, so they do not interfere."),(0,r.kt)("p",null,"We still can disable this check via ",(0,r.kt)("inlineCode",{parentName:"p"},"allowGlobalContext")," configuration, or\na connected environment variable ",(0,r.kt)("inlineCode",{parentName:"p"},"MIKRO_ORM_ALLOW_GLOBAL_CONTEXT")," - this can\nbe handy especially in unit tests."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"MikroORM.init({\n  allowGlobalContext: true, \n});\n")),(0,r.kt)("h2",{id:"using-environment-variables"},"Using environment variables"),(0,r.kt)("p",null,"Since v4.5 it is possible to set most of the ORM options via environment variables.\nBy default ",(0,r.kt)("inlineCode",{parentName:"p"},".env")," file from the root directory is loaded - it is also possible to\nset full path to the env file you want to use via ",(0,r.kt)("inlineCode",{parentName:"p"},"MIKRO_ORM_ENV")," environment variable."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Environment variables always have precedence.")),(0,r.kt)("p",null,"Example ",(0,r.kt)("inlineCode",{parentName:"p"},".env")," file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dotenv"},"MIKRO_ORM_TYPE = sqlite\nMIKRO_ORM_ENTITIES = ./dist/foo/*.entity.js, ./dist/bar/*.entity.js\nMIKRO_ORM_ENTITIES_TS = ./src/foo/*.entity.ts, ./src/bar/*.entity.ts\nMIKRO_ORM_DB_NAME = test.db\nMIKRO_ORM_MIGRATIONS_PATH = ./dist/migrations\nMIKRO_ORM_MIGRATIONS_PATH_TS = ./src/migrations\nMIKRO_ORM_POPULATE_AFTER_FLUSH = true\nMIKRO_ORM_FORCE_ENTITY_CONSTRUCTOR = true\nMIKRO_ORM_FORCE_UNDEFINED = true\n")),(0,r.kt)("p",null,"Full list of supported options:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"env variable"),(0,r.kt)("th",{parentName:"tr",align:null},"config key"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_BASE_DIR")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"baseDir"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_TYPE")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"type"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_ENTITIES")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"entities"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_ENTITIES_TS")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"entitiesTs"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_CLIENT_URL")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"clientUrl"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_HOST")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"host"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_PORT")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"port"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_USER")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"user"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_PASSWORD")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"password"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_DB_NAME")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"dbName"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_LOAD_STRATEGY")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"loadStrategy"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_BATCH_SIZE")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batchSize"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_USE_BATCH_INSERTS")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"useBatchInserts"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_USE_BATCH_UPDATES")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"useBatchUpdates"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_STRICT")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"strict"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_VALIDATE")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"validate"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_AUTO_JOIN_ONE_TO_ONE_OWNER")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"autoJoinOneToOneOwner"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_PROPAGATE_TO_ONE_OWNER")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"propagateToOneOwner"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_POPULATE_AFTER_FLUSH")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"populateAfterFlush"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_FORCE_ENTITY_CONSTRUCTOR")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"forceEntityConstructor"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_FORCE_UNDEFINED")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"forceUndefined"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_FORCE_UTC_TIMEZONE")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"forceUtcTimezone"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_TIMEZONE")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timezone"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_ENSURE_INDEXES")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"ensureIndexes"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_IMPLICIT_TRANSACTIONS")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"implicitTransactions"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_DEBUG")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"debug"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_VERBOSE")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"verbose"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_DISCOVERY_WARN_WHEN_NO_ENTITIES")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"discovery.warnWhenNoEntities"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_DISCOVERY_REQUIRE_ENTITIES_ARRAY")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"discovery.requireEntitiesArray"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_DISCOVERY_ALWAYS_ANALYSE_PROPERTIES")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"discovery.alwaysAnalyseProperties"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_DISCOVERY_DISABLE_DYNAMIC_FILE_ACCESS")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"discovery.disableDynamicFileAccess"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_MIGRATIONS_TABLE_NAME")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"migrations.tableName"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_MIGRATIONS_PATH")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"migrations.path"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_MIGRATIONS_PATH_TS")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"migrations.pathTs"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_MIGRATIONS_GLOB")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"migrations.glob"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_MIGRATIONS_TRANSACTIONAL")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"migrations.transactional"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_MIGRATIONS_DISABLE_FOREIGN_KEYS")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"migrations.disableForeignKeys"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_MIGRATIONS_ALL_OR_NOTHING")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"migrations.allOrNothing"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_MIGRATIONS_DROP_TABLES")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"migrations.dropTables"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_MIGRATIONS_SAFE")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"migrations.safe"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_MIGRATIONS_EMIT")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"migrations.emit"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_SCHEMA_GENERATOR_DISABLE_FOREIGN_KEYS")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"migrations.disableForeignKeys"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_SCHEMA_GENERATOR_CREATE_FOREIGN_KEY_CONSTRAINTS")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"migrations.createForeignKeyConstraints"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_SEEDER_PATH")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"seeder.path"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_SEEDER_PATH_TS")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"seeder.pathTs"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_SEEDER_GLOB")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"seeder.glob"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_SEEDER_EMIT")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"seeder.emit"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MIKRO_ORM_SEEDER_DEFAULT_SEEDER")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"seeder.defaultSeeder"))))))}k.isMDXComponent=!0}}]);